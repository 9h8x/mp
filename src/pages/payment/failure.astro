---
import Layout from "../layouts/Layout.astro";
import { Button } from "@/components/ui/button";
import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";

const { searchParams } = Astro.url;
const paymentId = searchParams.get("payment_id");
const status = searchParams.get("status");
const merchantOrderId = searchParams.get("merchant_order_id");
---

<Layout title="Payment Failed">
  <div class="container mx-auto max-w-2xl px-4">
    <Card className="shadow-lg mt-10">
      <CardHeader>
        <CardTitle className="text-red-600">Payment Failed</CardTitle>
        <CardDescription>
          We're sorry, but your payment could not be processed. Please try again
          or contact support if the problem persists.
        </CardDescription>
      </CardHeader>
      <CardContent>
        <ul class="list-disc list-inside mb-4 space-y-2 text-sm text-gray-600">
          <li>Payment ID: <span class="font-mono">{paymentId}</span></li>
          <li>Status: <span class="font-semibold">{status}</span></li>
          <li>
            Merchant Order ID: <span class="font-mono">{merchantOrderId}</span>
          </li>
        </ul>
      </CardContent>
      <CardFooter className="flex gap-3">
        <Button href="/">Return to Home</Button>
        <Button variant="secondary" href="/support">Check Status</Button>
      </CardFooter>
    </Card>
  </div>
</Layout>
